@model List<Booking>
@{
    ViewData["Title"] = $"Completed flights {DateTime.Now.Year}";
}

<h2>@ViewData["Title"]</h2>

<table class="table">
    <tr>
        <th>Date</th>
        <th>Passenger</th>
        <th>Pilot</th>
        <th></th>
    </tr>
    @foreach (var booking in Model)
    {
        <tr>
            <td>@booking.BookingDate.ToString("dd.MM.yyyy")</td>
            <td>@booking.PassengerName</td>
            <td>@(booking.AssignedPilot?.Name ?? "No pilot assigned")</td>
            <td><a href="@Url.Action("Edit", "BookingAdmin", new { id = booking.Id })" class="btn btn-default">Details</a></td>
        </tr>
    }
</table>